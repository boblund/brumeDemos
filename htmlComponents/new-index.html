<html>
	<head>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
	</head>
	<body>
		<custom-login id="login1" loaded="false"></custom-login>
		<custom-login id="login2" loaded="false"></custom-login>
	</body>
	<script type="module">
		import {elementLoaded} from './new-login.mjs';
		
		(async () => {
			const [login1, login2] = (await elementLoaded(['login1', 'login2'])) // Promise.selectAll return
			 .map(e=>e.value ? e.value : null); // Array with element Ids or null if not available

			login1.submitLogin.addEventListener('click', () => {
				if(login1.rememberMeChkBx.checked && login1.email.value !== "") {
					localStorage.email = login1.email.value;
					localStorage.checkbox = login1.rememberMeChkBx.value;
				} else {
					localStorage.email = "";
					localStorage.checkbox = "";
				}
				alert(`${login1.email.value} ${login1.password.value}`);
			});

			login2.submitLogin.addEventListener('click', () => {
				if(login2.rememberMeChkBx.checked && login2.email.value !== "") {
					localStorage.email = login2.email.value;
					localStorage.checkbox = login2.rememberMeChkBx.value;
				} else {
					localStorage.email = "";
					localStorage.checkbox = "";
				}
			});
		})()
	</script>
</html>

